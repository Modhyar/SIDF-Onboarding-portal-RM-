<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Access Setup | SIDF RM Credit Onboarding</title>
<link rel="stylesheet" href="styles.css" />
<style>

    .two-col { display:grid; grid-template-columns: 1fr 1fr; gap: 16px; }

    @media (max-width: 900px){ .two-col{ grid-template-columns: 1fr; } }

    .step-card{

      border: 1px solid var(--border);

      border-radius: 18px;

      background: rgba(255,255,255,.85);

      padding: 16px;

    }

    .step-title{

      display:flex; align-items:center; justify-content:space-between;

      gap: 10px; flex-wrap:wrap;

      margin-bottom: 10px;

    }

    .badge{

      display:inline-flex; align-items:center; gap:8px;

      padding: 6px 10px;

      border-radius: 999px;

      border: 1px solid rgba(11,107,79,.18);

      background: rgba(230,244,239,.7);

      color:#0b3e30;

      font-weight: 900;

      font-size: 12px;

    }

    .badge .dot{

      width:10px; height:10px; border-radius:999px;

      background: linear-gradient(135deg, var(--sidf-teal), var(--sidf-green));

    }

    .video-box{

      border-radius: 16px;

      overflow:hidden;

      border: 1px solid var(--border);

      background:#000;

    }

    .mini{

      font-size: 12px;

      opacity: .85;

    }

    .progressWrap{

      margin-top: 10px;

      border:1px solid var(--border);

      background: rgba(0,0,0,.06);

      height: 10px;

      border-radius: 999px;

      overflow:hidden;

    }

    .progressFill{

      height: 100%;

      width: 0%;

      background: linear-gradient(135deg, var(--sidf-teal), var(--sidf-green));

    }

    .lockNote{

      margin-top: 10px;

      font-weight: 800;

    }
.badge{

  width: 34px;

  height: 34px;

  border-radius: 999px;

  display:inline-flex;

  align-items:center;

  justify-content:center;

  font-size: 18px;

  font-weight: 900;

  color:#0b3e30;

  background: rgba(230,244,239,.85);

  border: 1px solid rgba(11,107,79,.25);

}
 
</style>
<script>

    // IMPORTANT: This is used by your stepper system if you kept it in other pages

    window.CURRENT_PAGE_ID = "access";
</script>
</head>
<body>
<div class="bg"></div>
<main class="shell">
<header class="topbar">
<div class="brand">
<img src="sidf-logo.png" class="sidf-logo" alt="SIDF Logo">
<div class="brand-text">
<div class="brand-title">SIDF</div>
<div class="brand-sub">Relationship Management Â· Credit</div>
</div>
</div>
<div class="chip">Access Setup</div>
</header>
<section class="card">
<h1 style="margin-bottom:6px;">How to Access Tamkeen & Shared Drive</h1>
<p class="muted" style="margin-top:0;">

      Complete both videos below. You wonâ€™t be able to continue until each video is watched.
</p>
<div class="two-col" style="margin-top:14px;">
<!-- STEP 1 -->
<div class="step-card">
<div class="step-title">
<div>
<div style="font-weight:950;">Step 1: Shared Drive Access</div>
<div class="muted mini">Request access from SRS (Service Request System)</div>
</div>
<div id="done1" class="badge" style="display:none;">âœ“</div>
</div>
<p class="muted" style="margin-top:0;">

          Request Shared Drive access from <b>SRS</b>. The following video shows what to do:
</p>
<div class="video-box">
<video id="vid1" width="100%" controls

            controlsList="nodownload noplaybackrate"

            disablePictureInPicture playsinline preload="metadata"

            style="background:#000;" oncontextmenu="return false;">
<!-- âœ… rename this to your actual file name -->
<source src="shared-drive-srs.mp4" type="video/mp4">

            Your browser does not support the video tag.
</video>
</div>
<div style="margin-top:10px;">
<div style="display:flex; justify-content:space-between; gap:10px;">
<div class="muted" style="font-weight:900;">Video 1 completion</div>
<div id="pct1" class="muted" style="font-weight:950;">0%</div>
</div>
<div class="progressWrap">
<div id="bar1" class="progressFill"></div>
</div>
</div>
</div>
<!-- STEP 2 -->
<div class="step-card">
<div class="step-title">
<div>
<div style="font-weight:950;">Step 2: Tamkeen Access</div>
<div class="muted mini">Platform used to keep projects & track progress</div>
</div>
<div id="done2" class="badge" style="display:none;">âœ“</div>
</div>
<p class="muted" style="margin-top:0;">
<b>Tamkeen</b> is the platform SIDF uses to safe-keep all projects and show the progress of each.

          Watch the video below:
</p>
<div class="video-box">
<video id="vid2" width="100%" controls

            controlsList="nodownload noplaybackrate"

            disablePictureInPicture playsinline preload="metadata"

            style="background:#000;" oncontextmenu="return false;">
<!-- âœ… rename this to your actual file name -->
<source src="tamkeen-access.mp4" type="video/mp4">

            Your browser does not support the video tag.
</video>
</div>
<div style="margin-top:10px;">
<div style="display:flex; justify-content:space-between; gap:10px;">
<div class="muted" style="font-weight:900;">Video 2 completion</div>
<div id="pct2" class="muted" style="font-weight:950;">0%</div>
</div>
<div class="progressWrap">
<div id="bar2" class="progressFill"></div>
</div>
</div>
</div>
</div>
<div class="actions" style="margin-top:18px; display:flex; justify-content:space-between; align-items:center;">
<a class="btn ghost" href="structure.html">Back</a>
<a id="continueBtn" class="btn primary" href="#"
    style="pointer-events:none; opacity:.55;">
    Continue â†’
</a>
</div>
<p id="lockNote" class="muted lockNote">

      ðŸ”’ Please complete both videos to unlock Continue.
</p>
</section>
<footer class="footer">
<span>Â© <span id="y"></span> SIDF RM Credit Onboarding (internal)</span>
<span>Built for RM Department Â· Credit</span>
</footer>
</main>
<script>

  document.getElementById("y").textContent = new Date().getFullYear();

  // If you have login in Welcome page, this reads the current user.

  // If not logged in, it still works (saved as "guest").

  const CURRENT_KEY = "sidf_user_current";

  function currentUser(){

    return localStorage.getItem(CURRENT_KEY) || "guest";

  }

  // Save completion per user

  const KEY_DONE_ACCESS = (u)=>`sidf_done_access:${u}`;

  const KEY_V1 = (u)=>`sidf_access_v1:${u}`;

  const KEY_V2 = (u)=>`sidf_access_v2:${u}`;

  const u = currentUser();

  const vid1 = document.getElementById("vid1");

  const vid2 = document.getElementById("vid2");

  const bar1 = document.getElementById("bar1");

  const bar2 = document.getElementById("bar2");

  const pct1 = document.getElementById("pct1");

  const pct2 = document.getElementById("pct2");

  const done1 = document.getElementById("done1");

  const done2 = document.getElementById("done2");

  const btn = document.getElementById("continueBtn");

  const lockNote = document.getElementById("lockNote");

  let v1Done = localStorage.getItem(KEY_V1(u)) === "true";

  let v2Done = localStorage.getItem(KEY_V2(u)) === "true";

  // Prevent skipping forward

  function gateVideo(videoEl, onDone){

    let maxWatched = 0;

    function updateUI(){

      const dur = videoEl.duration || 0;

      if(!dur) return;

      // if already done, keep 100

      if((videoEl === vid1 && v1Done) || (videoEl === vid2 && v2Done)){

        if(videoEl === vid1){ bar1.style.width="100%"; pct1.textContent="100%"; }

        if(videoEl === vid2){ bar2.style.width="100%"; pct2.textContent="100%"; }

        return;

      }

      if(!videoEl.paused && videoEl.currentTime > maxWatched){

        maxWatched = videoEl.currentTime;

      }

      const pct = Math.min(100, Math.floor((maxWatched / dur) * 100));

      if(videoEl === vid1){ bar1.style.width = pct+"%"; pct1.textContent=pct+"%"; }

      if(videoEl === vid2){ bar2.style.width = pct+"%"; pct2.textContent=pct+"%"; }

    }

    videoEl.addEventListener("seeking", ()=>{

      const isDone = (videoEl === vid1 ? v1Done : v2Done);

      if(isDone) return;

      if(videoEl.currentTime > maxWatched + 0.25){

        videoEl.currentTime = maxWatched;

      }

    });

    videoEl.addEventListener("timeupdate", updateUI);

    videoEl.addEventListener("play", updateUI);

    videoEl.addEventListener("loadedmetadata", updateUI);

    videoEl.addEventListener("ended", ()=>{

      onDone();

      updateUI();

      refreshUnlock();

    });

  }

  function refreshBadges(){

    done1.style.display = v1Done ? "inline-flex" : "none";

    done2.style.display = v2Done ? "inline-flex" : "none";

  }

  function refreshUnlock(){

    refreshBadges();

    if(v1Done && v2Done){

      localStorage.setItem(KEY_DONE_ACCESS(u), "true");

      btn.style.pointerEvents = "auto";

      btn.style.opacity = "1";

      btn.href = "rm-role.html";

      note.textConten = "Completed âœ“ You can continue.";

    } else {

      btn.style.pointerEvents = "none";

      btn.style.opacity = ".55";

      btn.href = "#";

      note.textConten = "ðŸ”’ Please complete both videos to unlock Continue.";

    }

  }

  // Restore saved completion UI

  if(v1Done){ bar1.style.width="100%"; pct1.textContent="100%"; }

  if(v2Done){ bar2.style.width="100%"; pct2.textContent="100%"; }

  gateVideo(vid1, ()=>{

    v1Done = true;

    localStorage.setItem(KEY_V1(u), "true");

  });

  gateVideo(vid2, ()=>{

    v2Done = true;

    localStorage.setItem(KEY_V2(u), "true");

  });

  refreshUnlock();
</script>
</body>
</html>

 


